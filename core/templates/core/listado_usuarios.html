{% block js %}
<script>
    function eliminarUsuario(id){
        swal.fire({
            "title": "¿Seguro que quieres eliminar?",
            "text": "esta acción no se puede deshacer",
            "icon": "warning",
            "showCancelButton":true,
            "cancelButtonText":"No, Cancelar",
            "confirmButtonText":"Si, Eliminar",
            "confirmButtonColor":"#dc3545"
        })
        .then(function(result) {
            if(result.isConfirmed){
                window.location.href = "/eliminar/"+id+"/"

            }
        })
    }
</script>
{% endblock %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuarios Hostal Doña Clarita</title>
</head>
<body>
    <h2>Listado de Usuarios</h2>  

    <table>
        <tr>
            <th>ID</th>
            <th>Nombre Usuario</th>
            <th>Tipo de Usuario</th>
            <th>Opciones</th>
        </tr>
        {% for u in entity %}
        <tr>
            <td>{{ u.id_usuario }}</td>
            <td>{{ u.nom_usuario }}</td>
            <td>{{ u.tipo_usuario }}</td>            
            <td>
                <a href="{% url 'modificar_usuario' u.id_usuario %}" class="btn btn-info btn-sm" >Modificar</a>
                <a href="#" onclick="eliminarUsuario({{ u.id_usuario }})" class="btn btn-danger btn-sm" >Eliminar</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    <div>
        {% include 'core/paginator.html' %}
    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    {% if messages %}
        {% for m in messages %}
            <script>
                swal.fire({
                    "title": "Felicitaciones",
                    "text": "{{m}}",
                    "icon": "success"
                })
            </script>
        {% endfor %}
    {% endif %}
    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    
</body>
</html>